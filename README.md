# Twilight
2025 NE:XT CONTEST 팀 어스름 출품작  
당신의 독서 여정을 도와줄 AI 도서 추천 서비스 어스름


<a href="https://www.instagram.com/2025_nextcon/" target="_blank">
<img src="https://static.vecteezy.com/system/resources/previews/031/737/233/non_2x/instagram-social-media-logo-icons-instagram-icon-free-png.png" alt="instagram" width="40" />
</a>  

<a href="https://heady-eucalyptus-1e4.notion.site/2025-nextcon" target="_blank">
<img width="30" alt="notion" src="https://github.com/user-attachments/assets/dcf0e693-99d1-4904-8904-a82e49c7fbc7"/>
</a>


## Architecture
<img src="https://github.com/user-attachments/assets/3facea72-6996-4789-afd0-3e52027f6850" width="700"/>


## Documents
### AI
- see [twilight AI README](https://github.com/Sami9166/twilight-AI/blob/main/README.md)
### Backend
- see [twilight backend README](https://github.com/JokeBear777/twilight-backend)
## Features
### 개인 맞춤형 도서 추천 시스템

본 프로젝트의 핵심 기능인 개인 맞춤형 도서 추천 시스템은 기획 의도에 맞게 구현되었습니다.
기존의 단순한 장르 기반 추천 방식이 아닌, 자체적으로 구축한 의미 기반 태그 시스템을 활용합니다.
각 도서에는 1개의 장르 태그(문학, 역사, 사회, 경제 등)와 3개의 세부 태그(예: 감정의 잔상, 제도의 민낯)가 부여되어, 총 약 500개의 세부 태그로 세밀하게 분류됩니다.

### 다단계 태그 필터링

사용자가 일상적 혹은 감성적인 질문에 답변하면, 해당 답변은 사전에 정의된 태그와 매칭됩니다.
이후 서버는 다음과 같은 단계적 필터링을 통해 도서 후보군을 선별합니다:

- 1단계: 장르 태그 기준 필터링

- 2단계: 장르 태그 + 세부 태그 1개

- 3단계: 장르 태그 + 세부 태그 2개

- 위 단계를 거쳐도 5~15권을 확보하지 못할 시 전체 도서 중 일부를 무작위로 추출

이와 같은 점진적 필터링 구조는 정확성과 다양성을 동시에 확보하기 위한 전략으로,
사용자의 응답과 태그를 최대한 반영하면서도 AI 추천이 가능한 도서 후보군을 보장합니다.

### 백엔드와 메시지 큐 구조

필터링된 도서 데이터와 사용자 정보는 Redis Stream 기반 메시지 큐를 통해
비동기적으로 AI 서버에 전달됩니다.
백엔드는 생산자, AI 서버는 소비자 역할을 수행하며,
이 구조를 통해 처리 지연 없이 빠른 응답성과 확장성을 확보했습니다.
사용자 요청이 많아지더라도, 큐 기반의 비동기 설계를 통해 작업을 유연하게 분산할 수 있습니다.

### AI 추천 파이프라인

AI 서버는 전달받은 도서 데이터를 FAISS(Facebook AI Similarity Search)로 벡터화하고,
사용자의 답변과 매칭된 태그를 기반으로 쿼리 벡터를 생성합니다.
이후 코사인 유사도(Cosine Similarity)를 활용해 의미적으로 가장 유사한 도서를 검색하고, RAG(Retrieval-Augmented Generation)을 통해 LLM이 최종 추천을 진행합니다.

AI 서버는 LangChain과 Hugging Face Inference API를 직접 연결하는 custom wrapper를 구성하여 모델을 로컬에서 직접 실행하지 않아도 빠르고 효율적인 추론이 가능하도록 설계했습니다.
또한 새로운 도서 데이터 추가 시 모델 재학습 없이 DB만 갱신하면 되므로 유지보수 측면에서도 유리합니다.

### 독서 기록
단순히 ‘오늘 몇 페이지를 읽었다’는 식의 활동을 기록하는 수준을 넘어, 사용자가 책을 보다 다각도로 바라볼 수 있도록 질문 기반 독서 기록 시스템을 도입했습니다. 이 시스템은 다양한 독자가 능동적으로 참여할 수 있도록 설계되었으며, 한 사용자가 책을 읽고 남긴 질문들이 다른 사용자에게도 자연스럽게 전달되어 함께 사고를 확장할 수 있는 구조로 구성되어 있습니다.

사용자는 책을 읽으며 떠오른 생각이나 궁금증을 질문 형태로 앱에 입력할 수 있고, 이렇게 축적된 질문들은 커뮤니티 전체의 지적 자산이 되어 다른 독자들의 기록 과정에 활용됩니다. 이를 통해 줄거리·주제·감정 변화·인상 깊은 문장·배운 점 등 여러 관점에서 스스로 정리하고 성찰하도록 유도하며, 결과적으로 책을 더 깊이 이해하고 각자의 해석과 의미를 남길 수 있는 풍부한 독서 경험을 제공합니다

작성된 독서 기록은 사용자가 개인적으로 보관할 수도 있으며, 원한다면 커뮤니티에 공유해 다른 독자들과 생각을 나누는 데 활용할 수도 있습니다. 단순히 최신순으로 나열하는 방식이 아니라, 사용자의 취향·읽기 패턴·선호 장르 등을 분석해 개인화된 추천 알고리즘으로 적합한 기록을 우선적으로 노출함으로써 더 의미 있는 소셜 경험을 제공합니다.

이러한 기능을 안정적으로 구현하기 위해, 이용자가 상대적으로 적은 시간대에 배치 작업을 수행하여 최근 활동 이력이 있는 사용자들의 메타데이터를 수집·정제하고, 이를 기반으로 추천 알고리즘이 지속해서 학습하고 갱신되도록 설계했습니다. 이를 통해 사용자는 자신과 비슷한 취향을 가진 사람들의 기록을 자연스럽게 발견할 수 있고, 소셜 기능 또한 보다 부드럽고 일관된 경험으로 이어집니다


### 소셜 기능
단순한 기록 공유를 넘어, 서로의 독서 취향과 생각을 연결하는 소셜 구조를 설계했습니다. 사용자는 관심이 가는 사람을 팔로우할 수 있으며, 비슷한 성향을 가진 사람들의 기록을 자연스럽게 모아볼 수 있습니다.
특히 단순히 팔로우 수나 최신순으로 보여주는 것이 아니라, 사용자의 취향·읽는 스타일·기록 패턴을 기반으로 추천하여, 사용자가 진짜 보고 싶어 할 만한 독서 기록과 유저를 우선적으로 노출합니다.
이를 통해 사용자는 단순한 ‘기록 플랫폼’을 넘어, 유사한 가치관과 관심사를 공유하는 사람들과 자연스럽게 연결되는 독서 커뮤니티 경험을 얻게 됩니다. 이를 통해 꾸준한 읽기 동기 부여, 새로운 관점의 발견, 더 깊은 감정적·지적 교류를 가능하게 만들었습니다.

자신의 독서 기록뿐만 아니라, 책과 관련된 다양한 생각을 자유롭게 나눌 수 있는 게시판 기능도 함께 제공합니다. 단순히 감상을 남기는 공간을 넘어, 독서 취향·문학적 해석·철학적 질문·작가나 시대에 대한 탐구 등 폭넓은 주제를 자유롭게 게시할 수 있도록 설계했습니다.
사용자들은 특정 책에 대한 토론을 열거나, 읽는 과정에서 떠오른 생각을 정리해 공유하고, 다른 사람의 관점에서 새로운 해석을 발견할 수 있습니다.

## Design & UX
프로젝트의 목표는 사용자에게 ‘자신만의 여정’을 제공하는 것이기에,
전체적으로 **편안하고 따뜻한 사용자 경험(UX)**을 중심으로 설계되었습니다.

웹사이트의 색상은 베이지 톤으로 통일하여
오래된 지도 같은 질감과 현대적인 감성을 함께 전달했습니다.
또한 쿠키런 폰트와 border-radius 속성을 적용해
둥근 인상과 시각적 안정감을 주었습니다.

기능적으로도 사용자의 편안함을 고려했습니다.
AI가 추천 결과를 생성하는 동안 책 관련 명언을 표시해
로딩 중 UX를 개선했고, 하단에는 내비게이터를 배치하여 손쉬운 페이지 이동을 지원했습니다.
홈 화면은 사이트 제목과 단일 버튼만으로 구성해
핵심 기능인 AI 책 추천을 즉시 이용할 수 있도록 했습니다.

짧은 개발 기간과 접근성을 고려하여 본 프로젝트는 모바일 웹 기반으로 개발되었습니다.
브라우저만으로 서비스를 이용할 수 있어 앱 설치 과정이 필요 없으며,
모바일 환경에 최적화된 UI로 언제 어디서든 서비스 접근이 가능합니다.
또한 웹 기반 특성상 PC 및 태블릿 환경과도 자연스럽게 호환되어
일관된 사용자 경험을 제공합니다.

## Open Sources
| 모듈명 | 사용한 기능 | 라이선스 |
|---------|--------------|-----------|
| httpx | 파이썬 HTTP 클라이언트 관리 | BSD-3-Clause License |
| LangChain | RAG 및 LLM을 통한 추천 시스템 구현 | MIT License |
| huggingface_hub | Embedding Model 및 HuggingFace Inference API 사용 | Apache-2.0 License |
| FastAPI | AI 서버 웹 프레임워크 구현 | MIT License |
| redis-py | 백엔드 서버로부터 받은 Redis 처리 | MIT License |
| uvicorn | FastAPI 프레임워크 서버 구현체 | BSD-3-Clause License |
| Spring Boot | 백엔드 서버 개발, REST API 및 MVC 아키텍처 구성 | Apache License 2.0 |
| Spring Data JPA | ORM 기반 DB 접근 | Apache License 2.0 |
| Hibernate | JPA 구현체 | LGPL 2.1 |
| Spring Security | 사용자 인증 및 세션 관리 | Apache License 2.0 |
| Lombok | 코드 축약 및 보일러플레이트 제거 | MIT License |
| MySQL | 도서, 사용자, 기록 등의 정형 데이터 저장 및 관리 | GPL (with FOSS exception) |
| MySQL Connector | MySQL과의 연동 | GPL v2 |
| Redis | 메시지 큐 기반 비동기 작업 처리 및 캐싱 | BSD-3-Clause License |
| Jackson | JSON 직렬화 / 역직렬화 | Apache License 2.0 |
| SLF4J | 로그 기록 | MIT / EPL License |
| Bootstrap | 반응형 UI 및 빠른 스타일링 구현 | MIT License |
| JQuery | DOM 조작 및 이벤트 처리 | MIT License |
| Font Awesome | 아이콘 사용 | CC BY 4.0 License |

